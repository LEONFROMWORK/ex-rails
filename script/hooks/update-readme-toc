#!/bin/bash
# Update README table of contents

set -e

# Check if README.md is staged
if git diff --cached --name-only | grep -q "^README\.md$"; then
    echo "üìö README.md changed, checking table of contents..."
    
    # Check if doctoc is available
    if command -v doctoc &> /dev/null; then
        echo "Updating table of contents..."
        doctoc README.md --github
        git add README.md
        echo "‚úÖ Table of contents updated"
    else
        echo "‚ö†Ô∏è  doctoc not found. Install with: npm install -g doctoc"
        echo "Table of contents not updated automatically"
    fi
fi